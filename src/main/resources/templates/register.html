<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>信息注册</title>
<script type="text/javascript" src="../jquery/jquery-3.5.1.js"></script>
<link href="../bootstrap-3.3.7-dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"> 
<script src="../bootstrap-3.3.7-dist/js/bootstrap.js"></script>
</head>
<body>
<nav class="navbar navbar-default">
<div class="row">
  <div class="col-xs-12 col-md-8">
   <div class="col-md-1">
  </div>
   <h1 >新用户注册</h1>
  </div>
  <div class="col-xs-6 col-md-4"> 
  
  </div>
</div>
</nav>
<div class="row">
  <div class="col-md-6 col-md-offset-3">
  <form  id="register" name="register" method="post">
  <input type="text" class="form-control" placeholder="username" id="username" name="username"><br>
<input type="text" class="form-control" placeholder="userid" id="userid" name="userid">  <br>
<input type="text" class="form-control" placeholder="password" id="password" name="password"><br>
<input type="text" class="form-control" placeholder="nianji" id="nianji" name="nianji">  <br>
<input type="text" class="form-control" placeholder="xueyuan" id="xueyuan" name="xueyuan"><br>
<input type="text" class="form-control" placeholder="zhuanye" id="zhuanye" name="zhuanye"><br>
<input type="text" class="form-control" placeholder="enable" id="enable" name="enable" value="true" text="enable"><br>
<input type="text" class="form-control" placeholder="locked" id="locked" name="locked" value="false" text="locked">
</form>
<button type="button" class="btn btn-primary" id="btn">注册</button>
  </div>
</div>

<script type="text/javascript">
$("#btn").click(function() {
	
	register();
	
});

function register()
{
	/* var username= document.getElementById('username').value;
	var userid= document.getElementById('userid').value;
	var password= document.getElementById('password').value;
	var nianji= document.getElementById('nianji').value;
	var xueyuan= document.getElementById('xueyuan').value;
	var zhuanye= document.getElementById('zhuanye').value;
	var enable= document.getElementById('enable').value;
	var locked= document.getElementById('locked').value;
	alert(enable);; charset=utf-8 */
	
	var formObject = {};
    var formArray =$("#register").serializeArray();
    $.each(formArray,function(i,item){
        formObject[item.name] = item.value;
    });
    alert(formObject);
	$.ajax({
	  url: '/register',
	  type: "POST",
	  dataType: "json",
	  contentType: "application/json",
	  data:JSON.stringify(formObject),
	  success: function (result) {
		  if(result==200)
			  {
			  alert("此用户已存在");
			  window.location.href="/login";
			  }else if(result==100){
				  
			  alert("成功，即将返回登录页");
			  window.location.href="/login";
				  }
		          
		         
		                }
		                
		         
	});
	}
</script>
</body>
</html>